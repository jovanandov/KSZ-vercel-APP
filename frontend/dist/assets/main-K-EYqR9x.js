import{c as qs,u as Ws,i as Ee,j as o,a as Ut,b as Lt,A as Hs,C as Se,T as Vs,d as $,B as N,I as ce,M as Js,e as re,f as R,g as Ft,h as Ce,P as ve,k as Ks,l as D,D as _t,S as Xs,m as yt,n as Gs,L as Ge,o as Ze,p as Qe,q as Zs,F as Qs,r as Ys,s as eo,t as to,v as wt,w as kt,x as Tt,y as St,z as dr,E as ur,G as ro,H as fr,J as pr,K as hr,N as He,O as B,Q as mr,R as yr,U as Ve,V as Ur,W as _,X as so,Y as xr,Z as oo,_ as no}from"./mui-Dq0_mrle.js";import{c as ao,g as io,r as h,u as je,O as lo,d as co,L as Lr,e as uo,f as Te,N as fo,a as po,B as ho}from"./vendor-DKfsZlRd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Ct={},gr=ao;Ct.createRoot=gr.createRoot,Ct.hydrateRoot=gr.hydrateRoot;const mo=qs({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});var Bt={},xt={};const yo=io(Ws);var vr;function Re(){return vr||(vr=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=yo}(xt)),xt}var xo=Ee;Object.defineProperty(Bt,"__esModule",{value:!0});var Mt=Bt.default=void 0,go=xo(Re()),vo=o;Mt=Bt.default=(0,go.default)((0,vo.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function Fr(e,t){return function(){return e.apply(t,arguments)}}const{toString:bo}=Object.prototype,{getPrototypeOf:qt}=Object,rt=(e=>t=>{const r=bo.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),se=e=>(e=e.toLowerCase(),t=>rt(t)===e),st=e=>t=>typeof t===e,{isArray:Oe}=Array,De=st("undefined");function jo(e){return e!==null&&!De(e)&&e.constructor!==null&&!De(e.constructor)&&Z(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Br=se("ArrayBuffer");function _o(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Br(e.buffer),t}const wo=st("string"),Z=st("function"),Mr=st("number"),ot=e=>e!==null&&typeof e=="object",ko=e=>e===!0||e===!1,Je=e=>{if(rt(e)!=="object")return!1;const t=qt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},To=se("Date"),So=se("File"),Co=se("Blob"),Eo=se("FileList"),Ro=e=>ot(e)&&Z(e.pipe),Oo=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Z(e.append)&&((t=rt(e))==="formdata"||t==="object"&&Z(e.toString)&&e.toString()==="[object FormData]"))},Po=se("URLSearchParams"),[No,Ao,zo,Do]=["ReadableStream","Request","Response","Headers"].map(se),Io=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $e(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Oe(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(s=0;s<i;s++)l=a[s],t.call(null,e[l],l,e)}}function qr(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wr=e=>!De(e)&&e!==xe;function Et(){const{caseless:e}=Wr(this)&&this||{},t={},r=(s,n)=>{const a=e&&qr(t,n)||n;Je(t[a])&&Je(s)?t[a]=Et(t[a],s):Je(s)?t[a]=Et({},s):Oe(s)?t[a]=s.slice():t[a]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&$e(arguments[s],r);return t}const $o=(e,t,r,{allOwnKeys:s}={})=>($e(t,(n,a)=>{r&&Z(n)?e[a]=Fr(n,r):e[a]=n},{allOwnKeys:s}),e),Uo=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Lo=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fo=(e,t,r,s)=>{let n,a,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&qt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Bo=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Mo=e=>{if(!e)return null;if(Oe(e))return e;let t=e.length;if(!Mr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qo=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qt(Uint8Array)),Wo=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=s.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},Ho=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Vo=se("HTMLFormElement"),Jo=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),br=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ko=se("RegExp"),Hr=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};$e(r,(n,a)=>{let i;(i=t(n,a,e))!==!1&&(s[a]=i||n)}),Object.defineProperties(e,s)},Xo=e=>{Hr(e,(t,r)=>{if(Z(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Z(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Go=(e,t)=>{const r={},s=n=>{n.forEach(a=>{r[a]=!0})};return Oe(e)?s(e):s(String(e).split(t)),r},Zo=()=>{},Qo=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Yo(e){return!!(e&&Z(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const en=e=>{const t=new Array(10),r=(s,n)=>{if(ot(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[n]=s;const a=Oe(s)?[]:{};return $e(s,(i,l)=>{const f=r(i,n+1);!De(f)&&(a[l]=f)}),t[n]=void 0,a}}return s};return r(e,0)},tn=se("AsyncFunction"),rn=e=>e&&(ot(e)||Z(e))&&Z(e.then)&&Z(e.catch),Vr=((e,t)=>e?setImmediate:t?((r,s)=>(xe.addEventListener("message",({source:n,data:a})=>{n===xe&&a===r&&s.length&&s.shift()()},!1),n=>{s.push(n),xe.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Z(xe.postMessage)),sn=typeof queueMicrotask<"u"?queueMicrotask.bind(xe):typeof process<"u"&&process.nextTick||Vr,c={isArray:Oe,isArrayBuffer:Br,isBuffer:jo,isFormData:Oo,isArrayBufferView:_o,isString:wo,isNumber:Mr,isBoolean:ko,isObject:ot,isPlainObject:Je,isReadableStream:No,isRequest:Ao,isResponse:zo,isHeaders:Do,isUndefined:De,isDate:To,isFile:So,isBlob:Co,isRegExp:Ko,isFunction:Z,isStream:Ro,isURLSearchParams:Po,isTypedArray:qo,isFileList:Eo,forEach:$e,merge:Et,extend:$o,trim:Io,stripBOM:Uo,inherits:Lo,toFlatObject:Fo,kindOf:rt,kindOfTest:se,endsWith:Bo,toArray:Mo,forEachEntry:Wo,matchAll:Ho,isHTMLForm:Vo,hasOwnProperty:br,hasOwnProp:br,reduceDescriptors:Hr,freezeMethods:Xo,toObjectSet:Go,toCamelCase:Jo,noop:Zo,toFiniteNumber:Qo,findKey:qr,global:xe,isContextDefined:Wr,isSpecCompliantForm:Yo,toJSONObject:en,isAsyncFn:tn,isThenable:rn,setImmediate:Vr,asap:sn};function E(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}c.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const Jr=E.prototype,Kr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kr[e]={value:e}});Object.defineProperties(E,Kr);Object.defineProperty(Jr,"isAxiosError",{value:!0});E.from=(e,t,r,s,n,a)=>{const i=Object.create(Jr);return c.toFlatObject(e,i,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),E.call(i,e.message,t,r,s,n),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const on=null;function Rt(e){return c.isPlainObject(e)||c.isArray(e)}function Xr(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function jr(e,t,r){return e?e.concat(t).map(function(n,a){return n=Xr(n),!r&&a?"["+n+"]":n}).join(r?".":""):t}function nn(e){return c.isArray(e)&&!e.some(Rt)}const an=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function nt(e,t,r){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=c.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!c.isUndefined(g[x])});const s=r.metaTokens,n=r.visitor||u,a=r.dots,i=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(n))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(c.isDate(y))return y.toISOString();if(!f&&c.isBlob(y))throw new E("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(y)||c.isTypedArray(y)?f&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,g){let k=y;if(y&&!g&&typeof y=="object"){if(c.endsWith(x,"{}"))x=s?x:x.slice(0,-2),y=JSON.stringify(y);else if(c.isArray(y)&&nn(y)||(c.isFileList(y)||c.endsWith(x,"[]"))&&(k=c.toArray(y)))return x=Xr(x),k.forEach(function(O,P){!(c.isUndefined(O)||O===null)&&t.append(i===!0?jr([x],P,a):i===null?x:x+"[]",d(O))}),!1}return Rt(y)?!0:(t.append(jr(g,x,a),d(y)),!1)}const p=[],b=Object.assign(an,{defaultVisitor:u,convertValue:d,isVisitable:Rt});function T(y,x){if(!c.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),c.forEach(y,function(k,S){(!(c.isUndefined(k)||k===null)&&n.call(t,k,c.isString(S)?S.trim():S,x,b))===!0&&T(k,x?x.concat(S):[S])}),p.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return T(e),t}function _r(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Wt(e,t){this._pairs=[],e&&nt(e,this,t)}const Gr=Wt.prototype;Gr.append=function(t,r){this._pairs.push([t,r])};Gr.toString=function(t){const r=t?function(s){return t.call(this,s,_r)}:_r;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function ln(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zr(e,t,r){if(!t)return e;const s=r&&r.encode||ln;c.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let a;if(n?a=n(t,r):a=c.isURLSearchParams(t)?t.toString():new Wt(t,r).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class wr{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Qr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cn=typeof URLSearchParams<"u"?URLSearchParams:Wt,dn=typeof FormData<"u"?FormData:null,un=typeof Blob<"u"?Blob:null,fn={isBrowser:!0,classes:{URLSearchParams:cn,FormData:dn,Blob:un},protocols:["http","https","file","blob","url","data"]},Ht=typeof window<"u"&&typeof document<"u",Ot=typeof navigator=="object"&&navigator||void 0,pn=Ht&&(!Ot||["ReactNative","NativeScript","NS"].indexOf(Ot.product)<0),hn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mn=Ht&&window.location.href||"http://localhost",yn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ht,hasStandardBrowserEnv:pn,hasStandardBrowserWebWorkerEnv:hn,navigator:Ot,origin:mn},Symbol.toStringTag,{value:"Module"})),J={...yn,...fn};function xn(e,t){return nt(e,new J.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,a){return J.isNode&&c.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function gn(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vn(e){const t={},r=Object.keys(e);let s;const n=r.length;let a;for(s=0;s<n;s++)a=r[s],t[a]=e[a];return t}function Yr(e){function t(r,s,n,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),f=a>=r.length;return i=!i&&c.isArray(n)?n.length:i,f?(c.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!l):((!n[i]||!c.isObject(n[i]))&&(n[i]=[]),t(r,s,n[i],a)&&c.isArray(n[i])&&(n[i]=vn(n[i])),!l)}if(c.isFormData(e)&&c.isFunction(e.entries)){const r={};return c.forEachEntry(e,(s,n)=>{t(gn(s),n,r,0)}),r}return null}function bn(e,t,r){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Ue={transitional:Qr,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,a=c.isObject(t);if(a&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return n?JSON.stringify(Yr(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return xn(t,this.formSerializer).toString();if((l=c.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return nt(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),bn(t)):t}],transformResponse:[function(t){const r=this.transitional||Ue.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?E.from(l,E.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{Ue.headers[e]={}});const jn=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_n=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||t[r]&&jn[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},kr=Symbol("internals");function ze(e){return e&&String(e).trim().toLowerCase()}function Ke(e){return e===!1||e==null?e:c.isArray(e)?e.map(Ke):String(e)}function wn(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const kn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gt(e,t,r,s,n){if(c.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!c.isString(t)){if(c.isString(s))return t.indexOf(s)!==-1;if(c.isRegExp(s))return s.test(t)}}function Tn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Sn(e,t){const r=c.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,a,i){return this[s].call(this,t,n,a,i)},configurable:!0})})}let G=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function a(l,f,d){const u=ze(f);if(!u)throw new Error("header name must be a non-empty string");const p=c.findKey(n,u);(!p||n[p]===void 0||d===!0||d===void 0&&n[p]!==!1)&&(n[p||f]=Ke(l))}const i=(l,f)=>c.forEach(l,(d,u)=>a(d,u,f));if(c.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(c.isString(t)&&(t=t.trim())&&!kn(t))i(_n(t),r);else if(c.isHeaders(t))for(const[l,f]of t.entries())a(f,l,s);else t!=null&&a(r,t,s);return this}get(t,r){if(t=ze(t),t){const s=c.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return wn(n);if(c.isFunction(r))return r.call(this,n,s);if(c.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ze(t),t){const s=c.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||gt(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function a(i){if(i=ze(i),i){const l=c.findKey(s,i);l&&(!r||gt(s,s[l],l,r))&&(delete s[l],n=!0)}}return c.isArray(t)?t.forEach(a):a(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const a=r[s];(!t||gt(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const r=this,s={};return c.forEach(this,(n,a)=>{const i=c.findKey(s,a);if(i){r[i]=Ke(n),delete r[a];return}const l=t?Tn(a):String(a).trim();l!==a&&delete r[a],r[l]=Ke(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return c.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&c.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[kr]=this[kr]={accessors:{}}).accessors,n=this.prototype;function a(i){const l=ze(i);s[l]||(Sn(n,i),s[l]=!0)}return c.isArray(t)?t.forEach(a):a(t),this}};G.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(G.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});c.freezeMethods(G);function vt(e,t){const r=this||Ue,s=t||r,n=G.from(s.headers);let a=s.data;return c.forEach(e,function(l){a=l.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function es(e){return!!(e&&e.__CANCEL__)}function Pe(e,t,r){E.call(this,e??"canceled",E.ERR_CANCELED,t,r),this.name="CanceledError"}c.inherits(Pe,E,{__CANCEL__:!0});function ts(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new E("Request failed with status code "+r.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Cn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function En(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,a=0,i;return t=t!==void 0?t:1e3,function(f){const d=Date.now(),u=s[a];i||(i=d),r[n]=f,s[n]=d;let p=a,b=0;for(;p!==n;)b+=r[p++],p=p%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),d-i<t)return;const T=u&&d-u;return T?Math.round(b*1e3/T):void 0}}function Rn(e,t){let r=0,s=1e3/t,n,a;const i=(d,u=Date.now())=>{r=u,n=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=s?i(d,u):(n=d,a||(a=setTimeout(()=>{a=null,i(n)},s-p)))},()=>n&&i(n)]}const Ye=(e,t,r=3)=>{let s=0;const n=En(50,250);return Rn(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,f=i-s,d=n(f),u=i<=l;s=i;const p={loaded:i,total:l,progress:l?i/l:void 0,bytes:f,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},Tr=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Sr=e=>(...t)=>c.asap(()=>e(...t)),On=J.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,J.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(J.origin),J.navigator&&/(msie|trident)/i.test(J.navigator.userAgent)):()=>!0,Pn=J.hasStandardBrowserEnv?{write(e,t,r,s,n,a){const i=[e+"="+encodeURIComponent(t)];c.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),c.isString(s)&&i.push("path="+s),c.isString(n)&&i.push("domain="+n),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function An(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rs(e,t,r){let s=!Nn(t);return e&&(s||r==!1)?An(e,t):t}const Cr=e=>e instanceof G?{...e}:e;function be(e,t){t=t||{};const r={};function s(d,u,p,b){return c.isPlainObject(d)&&c.isPlainObject(u)?c.merge.call({caseless:b},d,u):c.isPlainObject(u)?c.merge({},u):c.isArray(u)?u.slice():u}function n(d,u,p,b){if(c.isUndefined(u)){if(!c.isUndefined(d))return s(void 0,d,p,b)}else return s(d,u,p,b)}function a(d,u){if(!c.isUndefined(u))return s(void 0,u)}function i(d,u){if(c.isUndefined(u)){if(!c.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,p){if(p in t)return s(d,u);if(p in e)return s(void 0,d)}const f={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,p)=>n(Cr(d),Cr(u),p,!0)};return c.forEach(Object.keys(Object.assign({},e,t)),function(u){const p=f[u]||n,b=p(e[u],t[u],u);c.isUndefined(b)&&p!==l||(r[u]=b)}),r}const ss=e=>{const t=be({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:i,auth:l}=t;t.headers=i=G.from(i),t.url=Zr(rs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(c.isFormData(r)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((f=i.getContentType())!==!1){const[d,...u]=f?f.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(J.hasStandardBrowserEnv&&(s&&c.isFunction(s)&&(s=s(t)),s||s!==!1&&On(t.url))){const d=n&&a&&Pn.read(a);d&&i.set(n,d)}return t},zn=typeof XMLHttpRequest<"u",Dn=zn&&function(e){return new Promise(function(r,s){const n=ss(e);let a=n.data;const i=G.from(n.headers).normalize();let{responseType:l,onUploadProgress:f,onDownloadProgress:d}=n,u,p,b,T,y;function x(){T&&T(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function k(){if(!g)return;const O=G.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:O,config:e,request:g};ts(function(Q){r(Q),x()},function(Q){s(Q),x()},I),g=null}"onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(s(new E("Request aborted",E.ECONNABORTED,e,g)),g=null)},g.onerror=function(){s(new E("Network Error",E.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const I=n.transitional||Qr;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),s(new E(P,I.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,e,g)),g=null},a===void 0&&i.setContentType(null),"setRequestHeader"in g&&c.forEach(i.toJSON(),function(P,I){g.setRequestHeader(I,P)}),c.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&l!=="json"&&(g.responseType=n.responseType),d&&([b,y]=Ye(d,!0),g.addEventListener("progress",b)),f&&g.upload&&([p,T]=Ye(f),g.upload.addEventListener("progress",p),g.upload.addEventListener("loadend",T)),(n.cancelToken||n.signal)&&(u=O=>{g&&(s(!O||O.type?new Pe(null,e,g):O),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const S=Cn(n.url);if(S&&J.protocols.indexOf(S)===-1){s(new E("Unsupported protocol "+S+":",E.ERR_BAD_REQUEST,e));return}g.send(a||null)})},In=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const a=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof E?u:new Pe(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new E(`timeout ${t} of ms exceeded`,E.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:f}=s;return f.unsubscribe=()=>c.asap(l),f}},$n=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Un=async function*(e,t){for await(const r of Ln(e))yield*$n(r,t)},Ln=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Er=(e,t,r,s)=>{const n=Un(e,t);let a=0,i,l=f=>{i||(i=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:d,value:u}=await n.next();if(d){l(),f.close();return}let p=u.byteLength;if(r){let b=a+=p;r(b)}f.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(f){return l(f),n.return()}},{highWaterMark:2})},at=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",os=at&&typeof ReadableStream=="function",Fn=at&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ns=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Bn=os&&ns(()=>{let e=!1;const t=new Request(J.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Rr=64*1024,Pt=os&&ns(()=>c.isReadableStream(new Response("").body)),et={stream:Pt&&(e=>e.body)};at&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!et[t]&&(et[t]=c.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new E(`Response type '${t}' is not supported`,E.ERR_NOT_SUPPORT,s)})})})(new Response);const Mn=async e=>{if(e==null)return 0;if(c.isBlob(e))return e.size;if(c.isSpecCompliantForm(e))return(await new Request(J.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(c.isArrayBufferView(e)||c.isArrayBuffer(e))return e.byteLength;if(c.isURLSearchParams(e)&&(e=e+""),c.isString(e))return(await Fn(e)).byteLength},qn=async(e,t)=>{const r=c.toFiniteNumber(e.getContentLength());return r??Mn(t)},Wn=at&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:f,responseType:d,headers:u,withCredentials:p="same-origin",fetchOptions:b}=ss(e);d=d?(d+"").toLowerCase():"text";let T=In([n,a&&a.toAbortSignal()],i),y;const x=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let g;try{if(f&&Bn&&r!=="get"&&r!=="head"&&(g=await qn(u,s))!==0){let I=new Request(t,{method:"POST",body:s,duplex:"half"}),U;if(c.isFormData(s)&&(U=I.headers.get("content-type"))&&u.setContentType(U),I.body){const[Q,Y]=Tr(g,Ye(Sr(f)));s=Er(I.body,Rr,Q,Y)}}c.isString(p)||(p=p?"include":"omit");const k="credentials"in Request.prototype;y=new Request(t,{...b,signal:T,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:k?p:void 0});let S=await fetch(y);const O=Pt&&(d==="stream"||d==="response");if(Pt&&(l||O&&x)){const I={};["status","statusText","headers"].forEach(V=>{I[V]=S[V]});const U=c.toFiniteNumber(S.headers.get("content-length")),[Q,Y]=l&&Tr(U,Ye(Sr(l),!0))||[];S=new Response(Er(S.body,Rr,Q,()=>{Y&&Y(),x&&x()}),I)}d=d||"text";let P=await et[c.findKey(et,d)||"text"](S,e);return!O&&x&&x(),await new Promise((I,U)=>{ts(I,U,{data:P,headers:G.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:y})})}catch(k){throw x&&x(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,e,y),{cause:k.cause||k}):E.from(k,k&&k.code,e,y)}}),Nt={http:on,xhr:Dn,fetch:Wn};c.forEach(Nt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Or=e=>`- ${e}`,Hn=e=>c.isFunction(e)||e===null||e===!1,as={getAdapter:e=>{e=c.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let a=0;a<t;a++){r=e[a];let i;if(s=r,!Hn(r)&&(s=Nt[(i=String(r)).toLowerCase()],s===void 0))throw new E(`Unknown adapter '${i}'`);if(s)break;n[i||"#"+a]=s}if(!s){const a=Object.entries(n).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(Or).join(`
`):" "+Or(a[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Nt};function bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function Pr(e){return bt(e),e.headers=G.from(e.headers),e.data=vt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),as.getAdapter(e.adapter||Ue.adapter)(e).then(function(s){return bt(e),s.data=vt.call(e,e.transformResponse,s),s.headers=G.from(s.headers),s},function(s){return es(s)||(bt(e),s&&s.response&&(s.response.data=vt.call(e,e.transformResponse,s.response),s.response.headers=G.from(s.response.headers))),Promise.reject(s)})}const is="1.8.4",it={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{it[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Nr={};it.transitional=function(t,r,s){function n(a,i){return"[Axios v"+is+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,l)=>{if(t===!1)throw new E(n(i," has been removed"+(r?" in "+r:"")),E.ERR_DEPRECATED);return r&&!Nr[i]&&(Nr[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};it.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Vn(e,t,r){if(typeof e!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const a=s[n],i=t[a];if(i){const l=e[a],f=l===void 0||i(l,a,e);if(f!==!0)throw new E("option "+a+" must be "+f,E.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new E("Unknown option "+a,E.ERR_BAD_OPTION)}}const Xe={assertOptions:Vn,validators:it},oe=Xe.validators;let ge=class{constructor(t){this.defaults=t,this.interceptors={request:new wr,response:new wr}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=be(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:a}=r;s!==void 0&&Xe.assertOptions(s,{silentJSONParsing:oe.transitional(oe.boolean),forcedJSONParsing:oe.transitional(oe.boolean),clarifyTimeoutError:oe.transitional(oe.boolean)},!1),n!=null&&(c.isFunction(n)?r.paramsSerializer={serialize:n}:Xe.assertOptions(n,{encode:oe.function,serialize:oe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xe.assertOptions(r,{baseUrl:oe.spelling("baseURL"),withXsrfToken:oe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&c.merge(a.common,a[r.method]);a&&c.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=G.concat(i,a);const l=[];let f=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(f=f&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,p=0,b;if(!f){const y=[Pr.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,d),b=y.length,u=Promise.resolve(r);p<b;)u=u.then(y[p++],y[p++]);return u}b=l.length;let T=r;for(p=0;p<b;){const y=l[p++],x=l[p++];try{T=y(T)}catch(g){x.call(this,g);break}}try{u=Pr.call(this,T)}catch(y){return Promise.reject(y)}for(p=0,b=d.length;p<b;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=be(this.defaults,t);const r=rs(t.baseURL,t.url,t.allowAbsoluteUrls);return Zr(r,t.params,t.paramsSerializer)}};c.forEach(["delete","get","head","options"],function(t){ge.prototype[t]=function(r,s){return this.request(be(s||{},{method:t,url:r,data:(s||{}).data}))}});c.forEach(["post","put","patch"],function(t){function r(s){return function(a,i,l){return this.request(be(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ge.prototype[t]=r(),ge.prototype[t+"Form"]=r(!0)});let Jn=class ls{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const i=new Promise(l=>{s.subscribe(l),a=l}).then(n);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,l){s.reason||(s.reason=new Pe(a,i,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ls(function(n){t=n}),cancel:t}}};function Kn(e){return function(r){return e.apply(null,r)}}function Xn(e){return c.isObject(e)&&e.isAxiosError===!0}const At={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(At).forEach(([e,t])=>{At[t]=e});function cs(e){const t=new ge(e),r=Fr(ge.prototype.request,t);return c.extend(r,ge.prototype,t,{allOwnKeys:!0}),c.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return cs(be(e,n))},r}const F=cs(Ue);F.Axios=ge;F.CanceledError=Pe;F.CancelToken=Jn;F.isCancel=es;F.VERSION=is;F.toFormData=nt;F.AxiosError=E;F.Cancel=F.CanceledError;F.all=function(t){return Promise.all(t)};F.spread=Kn;F.isAxiosError=Xn;F.mergeConfig=be;F.AxiosHeaders=G;F.formToJSON=e=>Yr(c.isHTMLForm(e)?new FormData(e):e);F.getAdapter=as.getAdapter;F.HttpStatusCode=At;F.default=F;const{Axios:Ji,AxiosError:Ki,CanceledError:Xi,isCancel:Gi,CancelToken:Zi,VERSION:Qi,all:Yi,Cancel:el,isAxiosError:tl,spread:rl,toFormData:sl,AxiosHeaders:ol,HttpStatusCode:nl,formToJSON:al,getAdapter:il,mergeConfig:ll}=F,Gn="https://jovanandov.pythonanywhere.com/api",A=F.create({baseURL:Gn,headers:{"Content-Type":"application/json"},withCredentials:!0});A.interceptors.request.use(e=>{var r;const t=(r=document.cookie.split("; ").find(s=>s.startsWith("csrftoken=")))==null?void 0:r.split("=")[1];return t&&(e.headers["X-CSRFToken"]=t),e});A.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Ar=async()=>(await A.get("/auth/user/")).data,Zn=async(e,t)=>(await A.post("/auth/login/",{osebna_stevilka:e,password:t})).data,Qn=async()=>{await A.post("/auth/logout/")},Yn=async e=>(await A.post("/auth/register/",e)).data,ds=async()=>(await A.get("/tipi/")).data,ea=async e=>(await A.post("/tipi/",e)).data,ta=async(e,t)=>(await A.put(`/tipi/${e}/`,t)).data,ra=async e=>{await A.delete(`/tipi/${e}/`)},tt=async()=>(await A.get("/projekti/")).data,us=async e=>(await A.get(`/projekti/${e}/`)).data,fs=async e=>{var r,s,n,a;return(await A.post("/projekti/",{id:e.id,osebna_stevilka:e.osebna_stevilka,datum:new Date(e.datum).toISOString().split("T")[0],tip:(s=(r=e.projekt_tipi)==null?void 0:r[0])==null?void 0:s.tip,stevilo_ponovitev:((a=(n=e.projekt_tipi)==null?void 0:n[0])==null?void 0:a.stevilo_ponovitev)||1})).data},sa=async e=>{await A.delete(`/projekti/${e}/`)},oa=async(e,t)=>{const r=t?`/serijske-stevilke/?projekt=${e}&tip_id=${t}`:`/serijske-stevilke/?projekt=${e}`;return(await A.get(r)).data},na=async(e,t,r)=>{var l;const n=(l=(await us(e)).projekt_tipi)==null?void 0:l.find(f=>f.tip===t);if(!n)throw new Error("ProjektTip ne obstaja");const a=`${e}-${t}-${r+1}`;return(await A.post("/serijske-stevilke/",{projekt:e,stevilka:a,projekt_tip:n.id})).data},ps=async(e,t)=>(await A.get(`/segmenti/?tip_id=${e}&projekt_id=${t}`)).data,aa=async(e,t)=>{const s=(await ps(e,t)).map(i=>A.get(`/segmenti/${i.id}/vprasanja/?tip_id=${e}&projekt_id=${t}`));return(await Promise.all(s)).flatMap(i=>i.data)},zr=async e=>{try{return(await A.post("/odgovori/",e)).data}catch(t){throw console.error("Napaka pri shranjevanju odgovora:",t),t}},ia=async e=>(await A.get(`/odgovori/?serijska_stevilka=${e}`)).data,la=async e=>{try{await A.post("/odgovori/batch/",e)}catch(t){throw console.error("Napaka pri shranjevanju odgovorov:",t),t}},ca=async()=>(await A.get("/nastavitve/")).data,Dr=async e=>(await A.put("/nastavitve/",e)).data,da=async()=>(await A.get("/profili/")).data,ua=async(e,t)=>(await A.put(`/profili/${e}/`,t)).data,fa=async(e,t)=>{const r=new FormData;return r.append("file",t),(await A.post(`/tipi/${e}/upload-xlsx/`,r,{headers:{"Content-Type":"multipart/form-data"}})).data},pa=async(e,t)=>{await A.post("/auth/change-password/",{old_password:e,new_password:t})},ha=async e=>{const t=await A.get(`/tipi/${e}/download-template/`,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");return s.href=r,s.setAttribute("download",`template_${e}.xlsx`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),t.data},ma=async()=>(await A.get("/auth/users/")).data,ya=async(e,t)=>(await A.patch(`/auth/users/${e}/`,t)).data,xa=async e=>(await A.get(`/projekti/${e}/export-xlsx/`,{responseType:"blob"})).data,ga=async e=>(await A.get(`/projekti/${e}/export-pdf/`,{responseType:"blob"})).data,va=async e=>(await A.get(`/projekti/${e}/export-archive/`,{responseType:"blob"})).data,ba=async e=>{const t=new FormData;t.append("file",e),await A.post("/projekti/import-json/",t,{headers:{"Content-Type":"multipart/form-data"}})},hs=h.createContext(void 0),ja=({children:e})=>{const[t,r]=h.useState(!1),[s,n]=h.useState(null),a=je();h.useEffect(()=>{(async()=>{try{const T=await Ar();r(!0),n(T)}catch{r(!1),n(null)}})()},[]);const i=async(b,T)=>{try{if(await Zn(b,T)){const x=await Ar();return r(!0),n(x),a("/"),!0}return!1}catch(y){return console.error("Login error:",y),!1}},l=async()=>{try{await Qn(),r(!1),n(null),a("/login")}catch(b){console.error("Logout error:",b)}},f=async b=>{try{return!!await Yn({osebna_stevilka:b.osebna_stevilka,password:b.password,email:b.email,first_name:b.first_name,last_name:b.last_name})}catch(T){return console.error("Registration error:",T),!1}},d=()=>(s==null?void 0:s.is_superuser)||!1,u=()=>(s==null?void 0:s.is_staff)||!1,p=()=>t&&!d()&&!u();return o.jsx(hs.Provider,{value:{isAuthenticated:t,user:s,login:i,logout:l,register:f,isAdmin:d,isModerator:u,isUser:p},children:e})},Ne=()=>{const e=h.useContext(hs);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_a=()=>{const[e,t]=h.useState(null),{isAuthenticated:r,logout:s}=Ne(),n=je(),a=Ut();Lt(a.breakpoints.down("sm"));const i=u=>{t(u.currentTarget)},l=()=>{t(null)},f=u=>{n(u),l()},d=async()=>{await s(),n("/login")};return o.jsx(Hs,{position:"static",sx:{mb:2},children:o.jsx(Se,{maxWidth:"xl",children:o.jsxs(Vs,{disableGutters:!0,children:[o.jsx($,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"KSZ"}),o.jsxs(N,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[o.jsx(ce,{size:"large","aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:i,color:"inherit",children:o.jsx(Mt,{})}),o.jsxs(Js,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:l,sx:{display:{xs:"block",md:"none"}},children:[o.jsx(re,{onClick:()=>f("/"),children:o.jsx($,{textAlign:"center",children:"Kontrolni seznam"})}),o.jsx(re,{onClick:()=>f("/settings"),children:o.jsx($,{textAlign:"center",children:"Nastavitve"})}),r&&o.jsx(re,{onClick:d,children:o.jsx($,{textAlign:"center",children:"Odjava"})})]})]}),o.jsx($,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"KSZ"}),o.jsxs(N,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"flex-end"},children:[o.jsx(R,{onClick:()=>f("/"),sx:{my:2,color:"white",display:"block"},children:"Kontrolni seznam"}),o.jsx(R,{onClick:()=>f("/settings"),sx:{my:2,color:"white",display:"block"},children:"Nastavitve"}),r&&o.jsx(R,{onClick:d,sx:{my:2,color:"white",display:"block"},children:"Odjava"})]})]})})})},wa=()=>o.jsxs(N,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[o.jsx(_a,{}),o.jsx(N,{component:"main",sx:{flexGrow:1,p:3},children:o.jsx(lo,{})})]});function ka(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ka(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Vt=e=>typeof e=="number"&&!isNaN(e),Ie=e=>typeof e=="string",ms=e=>typeof e=="function",Ta=e=>Ie(e)||Vt(e),Sa=e=>h.isValidElement(e)||Ie(e)||ms(e)||Vt(e),Ca=1,ys=()=>`${Ca++}`,ne=new Map,zt=[],Ir=new Set,xs=()=>ne.size>0,Ea=(e,{containerId:t})=>{var r;return(r=ne.get(t||1))==null?void 0:r.toasts.get(e)};function Ra(e,t){var r;if(t)return!!((r=ne.get(t))!=null&&r.isToastActive(e));let s=!1;return ne.forEach(n=>{n.isToastActive(e)&&(s=!0)}),s}function Oa(e){if(!xs()){zt=zt.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Ta(e))ne.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ne.get(e.containerId);t?t.removeToast(e.id):ne.forEach(r=>{r.removeToast(e.id)})}}var Pa=(e={})=>{ne.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Na(e,t){Sa(e)&&(xs()||zt.push({content:e,options:t}),ne.forEach(r=>{r.buildToast(e,t)}))}function gs(e,t){ne.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function Aa(e){return Ir.add(e),()=>{Ir.delete(e)}}function za(e){return e&&(Ie(e.toastId)||Vt(e.toastId))?e.toastId:ys()}function Le(e,t){return Na(e,t),t.toastId}function lt(e,t){return{...t,type:t&&t.type||e,toastId:za(t)}}function ct(e){return(t,r)=>Le(t,lt(e,r))}function z(e,t){return Le(e,lt("default",t))}z.loading=(e,t)=>Le(e,lt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Da(e,{pending:t,error:r,success:s},n){let a;t&&(a=Ie(t)?z.loading(t,n):z.loading(t.render,{...n,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,p)=>{if(u==null){z.dismiss(a);return}let b={type:d,...i,...n,data:p},T=Ie(u)?{render:u}:u;return a?z.update(a,{...b,...T}):z(T.render,{...b,...T}),p},f=ms(e)?e():e;return f.then(d=>l("success",s,d)).catch(d=>l("error",r,d)),f}z.promise=Da;z.success=ct("success");z.info=ct("info");z.error=ct("error");z.warning=ct("warning");z.warn=z.warning;z.dark=(e,t)=>Le(e,lt("default",{theme:"dark",...t}));function Ia(e){Oa(e)}z.dismiss=Ia;z.clearWaitingQueue=Pa;z.isActive=Ra;z.update=(e,t={})=>{let r=Ea(e,t);if(r){let{props:s,content:n}=r,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:ys()};a.toastId!==e&&(a.staleId=e);let i=a.render||n;delete a.render,Le(i,a)}};z.done=e=>{z.update(e,{progress:1})};z.onChange=Aa;z.play=e=>gs(!0,e);z.pause=e=>gs(!1,e);var Jt={},$a=Ee;Object.defineProperty(Jt,"__esModule",{value:!0});var vs=Jt.default=void 0,Ua=$a(Re()),La=o;vs=Jt.default=(0,Ua.default)((0,La.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var Kt={},Fa=Ee;Object.defineProperty(Kt,"__esModule",{value:!0});var bs=Kt.default=void 0,Ba=Fa(Re()),Ma=o;bs=Kt.default=(0,Ba.default)((0,Ma.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");var Xt={},qa=Ee;Object.defineProperty(Xt,"__esModule",{value:!0});var js=Xt.default=void 0,Wa=qa(Re()),Ha=o;js=Xt.default=(0,Wa.default)((0,Ha.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");const Va=()=>{const{projektId:e="",tipId:t="1",ponovitve:r="3"}=co(),s=je(),[n,a]=h.useState(0),[i,l]=h.useState([]),[f,d]=h.useState([]),[u,p]=h.useState({}),[b,T]=h.useState(!0),[y,x]=h.useState(null),[g,k]=h.useState([]),[S,O]=h.useState(null),[P,I]=h.useState(parseInt(r)),[U,Q]=h.useState(""),[Y,V]=h.useState(!1),[Ae,pe]=h.useState(!1),Be=Ut(),L=Lt(Be.breakpoints.down("sm")),[ut,er]=h.useState(!0);h.useEffect(()=>{(async()=>{var C;try{T(!0),x(null);let j;try{j=await us(e),O(j)}catch(W){if(F.isAxiosError(W)&&((C=W.response)==null?void 0:C.status)===404){x("Projekt ne obstaja. Ustvarite nov projekt.");return}throw W}if(j.projekt_tipi&&j.projekt_tipi.length>0){const W=j.projekt_tipi.find(me=>me.tip===parseInt(t));W&&I(W.stevilo_ponovitev)}const[q,ee]=await Promise.all([ps(parseInt(t),e),aa(parseInt(t),e)]);l(q),d(ee);const te=await oa(e,parseInt(t));if(te.length===0){const W=await Promise.all(Array.from({length:P},(me,pt)=>na(e,parseInt(t),pt)));k(W),p({})}else{k(te);const W={},me=te.map(We=>ia(We.id));(await Promise.all(me)).forEach((We,tr)=>{const rr=te[tr];We.forEach(ke=>{const X=`${ke.vprasanje_id}-${rr.stevilka}`;W[X]=ke.odgovor})}),p(W)}}catch(j){x("Napaka pri nalaganju podatkov: "+(j instanceof Error?j.message:String(j)))}finally{T(!1)}})()},[e,t]),h.useEffect(()=>{const w=()=>{const C=window.pageYOffset||document.documentElement.scrollTop;er(C<100)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]);const Me=()=>{if(!i||n===null)return[];const w=i[n];return f.filter(C=>C.segment===w.id)},qe=()=>{a(w=>w+1),window.scrollTo({top:0,behavior:"smooth"})},ft=()=>{a(w=>w-1),window.scrollTo({top:0,behavior:"smooth"})},_e=async(w,C,j)=>{if(!(!e||!j))try{const q=`${w.id}-${j.stevilka}`;p(ee=>({...ee,[q]:C})),await zr({vprasanje_id:w.id,odgovor:C,projekt_id:parseInt(e),serijska_stevilka:j.stevilka}),z.success("Odgovor uspeno shranjen")}catch(q){console.error("Napaka pri shranjevanju odgovora:",q),z.error("Napaka pri shranjevanju odgovora")}},ae=async(w,C)=>{try{const j=g.map(q=>{const ee=`${w}-${q.stevilka}`;return p(te=>({...te,[ee]:C})),{vprasanje_id:w,odgovor:C,projekt_id:parseInt(e),serijska_stevilka:q.stevilka}});await la(j),z.success("Vsi odgovori uspeno shranjeni")}catch(j){console.error("Napaka pri masovnem shranjevanju:",j),z.error("Napaka pri masovnem shranjevanju odgovorov")}},K=async()=>{try{const w=Me(),C=[];for(const j of w)for(const q of g){const ee=`${j.id}-${q.stevilka}`,te=u[ee];te!==void 0&&C.push(zr({vprasanje_id:j.id,odgovor:te,projekt_id:parseInt(e),serijska_stevilka:q.stevilka}))}await Promise.all(C),z.success("Odgovori uspeno shranjeni")}catch(w){console.error("Napaka pri shranjevanju odgovorov:",w),z.error("Napaka pri shranjevanju odgovorov")}},ie=async()=>{try{const w=await xa(e),C=window.URL.createObjectURL(w),j=document.createElement("a");j.href=C,j.setAttribute("download",`projekt_${e}_odgovori.xlsx`),document.body.appendChild(j),j.click(),j.remove(),window.URL.revokeObjectURL(C),z.success("Izvoz uspeno zakljuen")}catch(w){console.error("Napaka pri izvozu:",w),z.error("Napaka pri izvozu datoteke")}},he=async()=>{try{const w=await ga(e),C=window.URL.createObjectURL(w),j=document.createElement("a");j.href=C,j.setAttribute("download",`projekt_${e}_odgovori.pdf`),document.body.appendChild(j),j.click(),j.remove(),window.URL.revokeObjectURL(C),z.success("PDF izvoz uspeno zakljuen")}catch(w){console.error("Napaka pri izvozu PDF:",w),z.error("Napaka pri izvozu PDF datoteke")}},we=()=>{const w=o.jsxs(o.Fragment,{children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Segmenti"}),o.jsx(Ge,{children:i.map((C,j)=>!(Math.abs(j-n)<=2)&&!L?null:o.jsx(Ze,{button:!0,selected:j===n,onClick:()=>{a(j),L&&pe(!1)},sx:{mb:1,bgcolor:j===n?"primary.main":"transparent",color:j===n?"primary.contrastText":"text.primary","&:hover":{bgcolor:j===n?"primary.dark":"action.hover"}},children:o.jsx(Qe,{primary:`${j+1}. ${C.naziv}`,primaryTypographyProps:{style:{whiteSpace:"normal",wordBreak:"break-word"}}})},C.id))})]});return L?o.jsxs(o.Fragment,{children:[o.jsx(Zs,{title:"Navigacija",children:o.jsx(Qs,{size:"medium",color:"primary","aria-label":"menu",onClick:()=>pe(!0),sx:{position:"fixed",top:ut?72:16,left:16,zIndex:1e3,transition:"top 0.3s ease"},children:o.jsx(Mt,{})})}),o.jsx(Ys,{anchor:"left",open:Ae,onClose:()=>pe(!1),children:o.jsx(N,{sx:{width:250,p:2},children:w})})]}):o.jsx(ve,{elevation:3,sx:{width:250,maxHeight:"70vh",overflowY:"auto",p:2,position:"sticky",top:24,display:{xs:"none",sm:"block"}},children:w})};return b?o.jsx(Se,{maxWidth:"lg",children:o.jsx(N,{sx:{display:"flex",justifyContent:"center",mt:4},children:o.jsx(Ft,{})})}):y?o.jsxs(Se,{maxWidth:"lg",children:[o.jsx(Ce,{severity:"error",sx:{mt:4},children:y}),o.jsxs(N,{sx:{mt:2,display:"flex",justifyContent:"center",gap:2},children:[o.jsx(R,{variant:"contained",onClick:()=>s("/"),children:"Nazaj na zaetek"}),y.includes("ne obstaja")&&o.jsx(R,{variant:"contained",color:"primary",onClick:()=>{fs({id:e,osebna_stevilka:localStorage.getItem("osebna_stevilka")||"1",datum:new Date().toISOString().split("T")[0],projekt_tipi:[{tip:parseInt(t),stevilo_ponovitev:parseInt(r)}]}).then(()=>{window.location.reload()}).catch(w=>{x("Napaka pri ustvarjanju projekta: "+w.message)})},children:"Ustvari nov projekt"})]})]}):S?o.jsxs(N,{sx:{p:L?2:3,position:"relative",minHeight:"100vh"},children:[o.jsx(Se,{maxWidth:"lg",children:o.jsxs(N,{sx:{mt:2,mb:4},children:[o.jsx($,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Kontrolni seznam"}),o.jsxs($,{variant:"subtitle1",gutterBottom:!0,align:"center",children:["Projekt: ",S==null?void 0:S.id," - tevilo ponovitev: ",P]}),o.jsxs(N,{sx:{display:"flex",gap:2,flexDirection:L?"column":"row"},children:[we(),o.jsx(ve,{elevation:3,sx:{flex:1,p:L?2:4},children:i[n]&&o.jsxs(o.Fragment,{children:[o.jsx($,{variant:"h5",gutterBottom:!0,children:i[n].naziv}),Me().map(w=>o.jsxs(N,{sx:{mb:3},children:[o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:L?"body1":"subtitle1",gutterBottom:!0,sx:{fontWeight:"medium"},children:w.vprasanje}),o.jsxs(Ks,{variant:"contained",size:L?"large":"small",fullWidth:L,sx:{mb:1},children:[o.jsx(R,{onClick:()=>ae(w.id,"Da"),color:"success",sx:{flex:1},children:"Vsi DA"}),o.jsx(R,{onClick:()=>ae(w.id,"Ne"),color:"error",sx:{flex:1},children:"Vsi NE"}),o.jsx(R,{onClick:()=>ae(w.id,"n/a"),color:"warning",sx:{flex:1},children:"Vsi N/A"})]}),o.jsx(D,{size:L?"medium":"small",fullWidth:!0,placeholder:"Vnesite besedilo za vse ponovitve",sx:{mt:1},onKeyDown:C=>{C.key==="Enter"&&(ae(w.id,C.target.value),C.target.value="")}})]}),g.map(C=>o.jsxs(N,{sx:{mb:2,p:L?1.5:2,border:"1px solid #e0e0e0",borderRadius:1,backgroundColor:"#fafafa"},children:[o.jsxs($,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:["Ponovitev ",C.stevilka.split("-")[2]," od ",P]}),o.jsxs(N,{sx:{display:"flex",gap:1,mb:1},children:[o.jsx(R,{size:L?"large":"small",variant:u[`${w.id}-${C.stevilka}`]==="Da"?"contained":"outlined",color:"success",onClick:()=>_e(w,"Da",C),fullWidth:L,children:"DA"}),o.jsx(R,{size:L?"large":"small",variant:u[`${w.id}-${C.stevilka}`]==="Ne"?"contained":"outlined",color:"error",onClick:()=>_e(w,"Ne",C),fullWidth:L,children:"NE"}),o.jsx(R,{size:L?"large":"small",variant:u[`${w.id}-${C.stevilka}`]==="n/a"?"contained":"outlined",color:"warning",onClick:()=>_e(w,"n/a",C),fullWidth:L,children:"N/A"})]}),o.jsx(D,{size:L?"medium":"small",value:u[`${w.id}-${C.stevilka}`]||"",onChange:j=>_e(w,j.target.value,C),fullWidth:!0,required:w.obvezno,placeholder:"Vpiite odgovor ali uporabite gumbe zgoraj"})]},C.id)),o.jsx(_t,{sx:{my:2}})]},w.id)),o.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",mt:4,gap:2,flexDirection:L?"column":"row"},children:[o.jsx(R,{onClick:ft,disabled:n===0,fullWidth:L,size:L?"large":"medium",children:"Nazaj"}),o.jsx(R,{variant:"contained",onClick:n===i.length-1?()=>s("/"):qe,fullWidth:L,size:L?"large":"medium",children:n===i.length-1?"Zakljui":"Naprej"})]})]})})]})]})}),o.jsxs(Xs,{ariaLabel:"SpeedDial",sx:{position:"fixed",bottom:24,right:24},icon:o.jsx(Gs,{}),children:[o.jsx(yt,{icon:o.jsx(vs,{}),tooltipTitle:"Shrani odgovore",onClick:K}),o.jsx(yt,{icon:o.jsx(bs,{}),tooltipTitle:"Izvozi v Excel",onClick:ie}),o.jsx(yt,{icon:o.jsx(js,{}),tooltipTitle:"Izvozi v PDF",onClick:he})]})]}):o.jsxs(Se,{maxWidth:"lg",children:[o.jsx(Ce,{severity:"warning",sx:{mt:4},children:"Projekt ni na voljo. Prosim, preverite tevilko projekta."}),o.jsx(N,{sx:{mt:2,display:"flex",justifyContent:"center"},children:o.jsx(R,{variant:"contained",onClick:()=>s("/"),children:"Nazaj na zaetek"})})]})};var Gt={},Ja=Ee;Object.defineProperty(Gt,"__esModule",{value:!0});var _s=Gt.default=void 0,Ka=Ja(Re()),Xa=o;_s=Gt.default=(0,Ka.default)((0,Xa.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Ga=({onFileSelect:e})=>{const[t,r]=h.useState(!1),s=async n=>{var i;const a=(i=n.target.files)==null?void 0:i[0];if(a){if(!a.name.endsWith(".json")){alert("Prosimo, izberite JSON datoteko.");return}r(!0);try{e(a)}catch(l){console.error("Napaka pri nalaganju:",l)}finally{r(!1)}}};return o.jsxs(N,{sx:{textAlign:"center",p:2},children:[o.jsx("input",{accept:".json",style:{display:"none"},id:"json-file-upload",type:"file",onChange:s,disabled:t}),o.jsx("label",{htmlFor:"json-file-upload",children:o.jsx(R,{variant:"contained",component:"span",disabled:t,startIcon:t?o.jsx(Ft,{size:20}):o.jsx(_s,{}),children:t?"Nalaganje...":"Naloi JSON datoteko"})}),o.jsx($,{variant:"caption",display:"block",sx:{mt:1},children:"Podprte so samo .json datoteke"})]})};let Za={data:""},Qa=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Za,Ya=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ei=/\/\*[^]*?\*\/|  +/g,$r=/\n+/g,ue=(e,t)=>{let r="",s="",n="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":s+=a[1]=="f"?ue(i,a):a+"{"+ue(i,a[1]=="k"?"":t)+"}":typeof i=="object"?s+=ue(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,l):l?l+" "+f:f)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ue.p?ue.p(a,i):a+":"+i+";")}return r+(t&&n?t+"{"+n+"}":n)+s},le={},ws=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+ws(e[r]);return t}return e},ti=(e,t,r,s,n)=>{let a=ws(e),i=le[a]||(le[a]=(f=>{let d=0,u=11;for(;d<f.length;)u=101*u+f.charCodeAt(d++)>>>0;return"go"+u})(a));if(!le[i]){let f=a!==e?e:(d=>{let u,p,b=[{}];for(;u=Ya.exec(d.replace(ei,""));)u[4]?b.shift():u[3]?(p=u[3].replace($r," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][u[1]]=u[2].replace($r," ").trim();return b[0]})(e);le[i]=ue(n?{["@keyframes "+i]:f}:f,r?"":"."+i)}let l=r&&le.g?le.g:null;return r&&(le.g=le[i]),((f,d,u,p)=>{p?d.data=d.data.replace(p,f):d.data.indexOf(f)===-1&&(d.data=u?f+d.data:d.data+f)})(le[i],t,s,l),i},ri=(e,t,r)=>e.reduce((s,n,a)=>{let i=t[a];if(i&&i.call){let l=i(r),f=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=f?"."+f:l&&typeof l=="object"?l.props?"":ue(l,""):l===!1?"":l}return s+n+(i??"")},"");function dt(e){let t=this||{},r=e.call?e(t.p):e;return ti(r.unshift?r.raw?ri(r,[].slice.call(arguments,1),t.p):r.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):r,Qa(t.target),t.g,t.o,t.k)}let ks,Dt,It;dt.bind({g:1});let de=dt.bind({k:1});function si(e,t,r,s){ue.p=t,ks=e,Dt=r,It=s}function fe(e,t){let r=this||{};return function(){let s=arguments;function n(a,i){let l=Object.assign({},a),f=l.className||n.className;r.p=Object.assign({theme:Dt&&Dt()},l),r.o=/ *go\d+/.test(f),l.className=dt.apply(r,s)+(f?" "+f:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),It&&d[0]&&It(l),ks(d,l)}return n}}var oi=e=>typeof e=="function",$t=(e,t)=>oi(e)?e(t):e,ni=(()=>{let e=0;return()=>(++e).toString()})(),ai=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ii=20,Ts=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,ii)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Ts(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+n}))}}},li=[],jt={toasts:[],pausedAt:void 0},Zt=e=>{jt=Ts(jt,e),li.forEach(t=>{t(jt)})},ci=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ni()}),Fe=e=>(t,r)=>{let s=ci(t,e,r);return Zt({type:2,toast:s}),s.id},M=(e,t)=>Fe("blank")(e,t);M.error=Fe("error");M.success=Fe("success");M.loading=Fe("loading");M.custom=Fe("custom");M.dismiss=e=>{Zt({type:3,toastId:e})};M.remove=e=>Zt({type:4,toastId:e});M.promise=(e,t,r)=>{let s=M.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let a=t.success?$t(t.success,n):void 0;return a?M.success(a,{id:s,...r,...r==null?void 0:r.success}):M.dismiss(s),n}).catch(n=>{let a=t.error?$t(t.error,n):void 0;a?M.error(a,{id:s,...r,...r==null?void 0:r.error}):M.dismiss(s)}),e};var di=de`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ui=de`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fi=de`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pi=fe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${di} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ui} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hi=de`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mi=fe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hi} 1s linear infinite;
`,yi=de`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xi=de`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gi=fe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xi} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vi=fe("div")`
  position: absolute;
`,bi=fe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ji=de`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_i=fe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ji} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wi=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?h.createElement(_i,null,t):t:r==="blank"?null:h.createElement(bi,null,h.createElement(mi,{...s}),r!=="loading"&&h.createElement(vi,null,r==="error"?h.createElement(pi,{...s}):h.createElement(gi,{...s})))},ki=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ti=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Si="0%{opacity:0;} 100%{opacity:1;}",Ci="0%{opacity:1;} 100%{opacity:0;}",Ei=fe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ri=fe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Oi=(e,t)=>{let r=e.includes("top")?1:-1,[s,n]=ai()?[Si,Ci]:[ki(r),Ti(r)];return{animation:t?`${de(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${de(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};h.memo(({toast:e,position:t,style:r,children:s})=>{let n=e.height?Oi(e.position||t||"top-center",e.visible):{opacity:0},a=h.createElement(wi,{toast:e}),i=h.createElement(Ri,{...e.ariaProps},$t(e.message,e));return h.createElement(Ei,{className:e.className,style:{...n,...r,...e.style}},typeof s=="function"?s({icon:a,message:i}):h.createElement(h.Fragment,null,a,i))});si(h.createElement);dt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Pi=()=>{var lr;je();const{user:e,isModerator:t,isAdmin:r}=Ne(),[s,n]=h.useState(0),[a,i]=h.useState([]),[l,f]=h.useState({format:"pdf",lokacija:"./exports"}),[d,u]=h.useState({jezik:"sl",tema:"light"}),[p,b]=h.useState({id:1,first_name:"",last_name:"",email:""}),[T,y]=h.useState(""),[x,g]=h.useState(""),[k,S]=h.useState(""),[O,P]=h.useState(null),[I,U]=h.useState(null),[Q,Y]=h.useState(!1),[V,Ae]=h.useState(null),[pe,Be]=h.useState(""),[L,ut]=h.useState({}),[er,Me]=h.useState([]),[qe,ft]=h.useState([]),[_e,ae]=h.useState(!1),[K,ie]=h.useState(null),[he,we]=h.useState({open:!1,message:"",severity:"success"}),[w,C]=h.useState(!1),[j,q]=h.useState([]),[ee,te]=h.useState(null),[W,me]=h.useState([]),[pt,We]=h.useState(""),[tr,rr]=h.useState(1),ke=Ut(),X=Lt(ke.breakpoints.down("sm")),ht=async()=>{try{const[v,m,H,ye,Ms]=await Promise.all([ds(),ca(),da(),r()?ma():Promise.resolve([]),r()?tt():Promise.resolve([])]);i(v),ut(m),Me(H),ft(ye.map(cr=>({...cr,osebna_stevilka:cr.username}))),me(Ms)}catch(v){console.error("Error fetching data:",v),P("Napaka pri pridobivanju podatkov")}};h.useEffect(()=>{ht()},[r]);const Cs=(v,m)=>{n(m)},sr=()=>r()?"admin":t()?"moderator":"user",Es=()=>{switch(sr()){case"admin":return[{label:"Tipi",index:0},{label:"Izvozi",index:1},{label:"Sistem",index:2},{label:"Profil",index:3},{label:"Moderatorji",index:4},{label:"Uporabniki",index:5},{label:"Projekti",index:6}];case"moderator":return[{label:"Tipi",index:0},{label:"Izvozi",index:1},{label:"Sistem",index:2},{label:"Profil",index:3},{label:"Moderatorji",index:4}];default:return[{label:"Profil",index:0}]}},Rs=()=>{const v=sr();if(v==="admin"||v==="moderator")switch(s){case 0:return o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Tipi kontrolnih seznamov"}),o.jsxs(_,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Nov tip",value:pe,onChange:m=>Be(m.target.value)})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(R,{variant:"contained",color:"primary",onClick:Os,disabled:!pe.trim(),sx:{height:"56px"},children:"Dodaj tip"})})]}),o.jsx(Ge,{sx:{width:"100%",bgcolor:"background.paper"},children:a.map(m=>o.jsx(Ze,{secondaryAction:o.jsxs(N,{sx:{display:"flex",gap:1},children:[o.jsx(R,{variant:"outlined",size:"small",onClick:()=>Ds(m.id),children:"Prenesi predlogo"}),o.jsxs(R,{variant:"outlined",size:"small",component:"label",children:["Naloi XLSX",o.jsx("input",{type:"file",hidden:!0,accept:".xlsx",onChange:H=>Is(m.id,H.target.files?H.target.files[0]:null)})]}),o.jsx(ce,{edge:"end","aria-label":"edit",onClick:()=>$s(m),children:o.jsx(so,{})}),o.jsx(ce,{edge:"end","aria-label":"delete",onClick:()=>Ns(m.id),children:o.jsx(Ve,{})})]}),children:o.jsx(Qe,{primary:m.naziv,sx:{mr:2}})},m.id))})]});case 1:return o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Nastavitve izvoza"}),o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsxs(D,{select:!0,fullWidth:!0,label:"Format",value:l.format,onChange:m=>f({...l,format:m.target.value}),children:[o.jsx(re,{value:"pdf",children:"PDF"}),o.jsx(re,{value:"xlsx",children:"Excel"}),o.jsx(re,{value:"json",children:"JSON"})]})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Lokacija",value:l.lokacija,onChange:m=>f({...l,lokacija:m.target.value})})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:As,children:"Shrani nastavitve izvoza"})})]})]});case 2:return o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Sistemske nastavitve"}),o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsxs(D,{select:!0,fullWidth:!0,label:"Jezik",value:d.jezik,onChange:m=>u({...d,jezik:m.target.value}),children:[o.jsx(re,{value:"sl",children:"Slovenina"}),o.jsx(re,{value:"en",children:"English"})]})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsxs(D,{select:!0,fullWidth:!0,label:"Tema",value:d.tema,onChange:m=>u({...d,tema:m.target.value}),children:[o.jsx(re,{value:"light",children:"Svetla"}),o.jsx(re,{value:"dark",children:"Temna"})]})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:zs,children:"Shrani sistemske nastavitve"})})]})]});case 3:return o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Profil"}),o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Ime",value:p.first_name,onChange:m=>b({...p,first_name:m.target.value})})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Priimek",value:p.last_name,onChange:m=>b({...p,last_name:m.target.value})})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"E-pota",value:p.email,onChange:m=>b({...p,email:m.target.value})})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:or,children:"Shrani profil"})}),o.jsxs(_,{item:!0,xs:12,children:[o.jsx(_t,{sx:{my:2}}),o.jsx($,{variant:"h6",gutterBottom:!0,children:"Spremeni geslo"})]}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Trenutno geslo",value:T,onChange:m=>y(m.target.value)})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Novo geslo",value:x,onChange:m=>g(m.target.value)})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Potrdi novo geslo",value:k,onChange:m=>S(m.target.value)})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:nr,disabled:!T||!x||!k,children:"Spremeni geslo"})})]})]});case 4:return o.jsxs(N,{sx:{p:3},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Upravljanje moderatorjev"}),o.jsx(Ge,{children:qe.map(m=>o.jsxs(Ze,{children:[o.jsx(Qe,{primary:`${m.first_name} ${m.last_name}`,secondary:`Osebna tevilka: ${m.osebna_stevilka}`}),o.jsxs(Ur,{children:[o.jsx(ce,{color:"primary",onClick:()=>{ie(m),ae(!0)},children:o.jsx(yr,{})}),o.jsx(ce,{color:"error",onClick:()=>{ie(m),C(!0)},children:o.jsx(Ve,{})})]})]},m.id))})]});case 5:return v==="admin"?o.jsxs(N,{sx:{mt:4},children:[o.jsx($,{variant:"h5",gutterBottom:!0,children:"Uporabniki"}),o.jsx(fr,{component:ve,children:o.jsxs(pr,{children:[o.jsx(hr,{children:o.jsxs(He,{children:[o.jsx(B,{children:"Osebna tevilka"}),o.jsx(B,{children:"Ime"}),o.jsx(B,{children:"Priimek"}),o.jsx(B,{children:"Email"}),o.jsx(B,{children:"Akcije"})]})}),o.jsx(mr,{children:qe.map(m=>o.jsxs(He,{children:[o.jsx(B,{children:m.osebna_stevilka}),o.jsx(B,{children:m.first_name}),o.jsx(B,{children:m.last_name}),o.jsx(B,{children:m.email}),o.jsxs(B,{children:[o.jsx(ce,{color:"primary",onClick:()=>{ie(m),ae(!0)},children:o.jsx(yr,{})}),o.jsx(ce,{color:"error",onClick:()=>{ie(m),C(!0)},children:o.jsx(Ve,{})})]})]},m.id))})]})})]}):null;case 6:return ir();default:return null}else switch(s){case 0:return o.jsxs(N,{sx:{mb:2},children:[o.jsx($,{variant:"h6",gutterBottom:!0,children:"Profil"}),o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Ime",value:p.first_name,onChange:m=>b({...p,first_name:m.target.value})})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,label:"Priimek",value:p.last_name,onChange:m=>b({...p,last_name:m.target.value})})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"E-pota",value:p.email,onChange:m=>b({...p,email:m.target.value})})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:or,children:"Shrani profil"})}),o.jsxs(_,{item:!0,xs:12,children:[o.jsx(_t,{sx:{my:2}}),o.jsx($,{variant:"h6",gutterBottom:!0,children:"Spremeni geslo"})]}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Trenutno geslo",value:T,onChange:m=>y(m.target.value)})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Novo geslo",value:x,onChange:m=>g(m.target.value)})}),o.jsx(_,{item:!0,xs:12,sm:6,children:o.jsx(D,{fullWidth:!0,type:"password",label:"Potrdi novo geslo",value:k,onChange:m=>S(m.target.value)})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{variant:"contained",color:"primary",onClick:nr,disabled:!T||!x||!k,children:"Spremeni geslo"})})]})]});case 1:return ir();default:return null}},Os=async()=>{try{const v=await ea({naziv:pe});i([...a,v]),U("Tip uspeno ustvarjen"),Be("")}catch{P("Napaka pri ustvarjanju tipa")}},Ps=async()=>{var v;if(V)try{const m=await ta(V,{naziv:((v=a.find(H=>H.id===V))==null?void 0:v.naziv)||""});i(a.map(H=>H.id===V?m:H)),U("Tip uspeno posodobljen"),mt()}catch{P("Napaka pri posodabljanju tipa")}},Ns=async v=>{try{await ra(v),i(a.filter(m=>m.id!==v)),U("Tip uspeno izbrisan")}catch{P("Napaka pri brisanju tipa")}},As=async()=>{try{await Dr({export:l}),U("Nastavitve izvoza uspeno posodobljene")}catch{P("Napaka pri posodabljanju nastavitev izvoza")}},zs=async()=>{try{await Dr({system:d}),U("Sistemske nastavitve uspeno posodobljene")}catch{P("Napaka pri posodabljanju sistemskih nastavitev")}},or=async()=>{try{await ua(p.id,{first_name:p.first_name,last_name:p.last_name,email:p.email}),U("Profil uspeno posodobljen")}catch{P("Napaka pri posodabljanju profila")}},nr=async()=>{if(x!==k){P("Novo geslo in potrditev gesla se ne ujemata");return}try{await pa(T,x),U("Geslo uspeno spremenjeno"),y(""),g(""),S("")}catch{P("Napaka pri spreminjanju gesla")}},Ds=async v=>{try{await ha(v),U("Predloga uspeno prenesena")}catch{P("Napaka pri prenosu predloge")}},Is=async(v,m)=>{if(m)try{await fa(v,m),U("Datoteka uspeno naloena")}catch{P("Napaka pri nalaganju datoteke")}},mt=()=>{Y(!1),Ae(null)},$s=v=>{Ae(v.id),Y(!0)},Us=async()=>{if(K)try{await ya(K.id,{is_staff:K.is_staff,is_superuser:K.is_superuser}),we({open:!0,message:"Pravice uporabnika uspeno posodobljene",severity:"success"}),ae(!1),ht()}catch{we({open:!0,message:"Napaka pri posodabljanju pravic",severity:"error"})}},ar=()=>{ie(null),ae(!1)},Ls=async v=>{try{for(const H of v)await sa(parseInt(H));C(!1),q([]);const m=await tt();me(m),M.success("Projekti uspeno izbrisani")}catch(m){console.error("Napaka pri brisanju projektov:",m),M.error("Napaka pri brisanju projektov")}},Fs=async()=>{try{if(j.length===0){M.error("Izberite vsaj en projekt za izvoz");return}for(const v of j){const m=await va(v),H=window.URL.createObjectURL(m),ye=document.createElement("a");ye.href=H,ye.download=`projekt_${v}_arhiv.json`,document.body.appendChild(ye),ye.click(),window.URL.revokeObjectURL(H),document.body.removeChild(ye)}M.success("Projekti uspeno izvoeni")}catch(v){console.error("Napaka pri izvozu projektov:",v),v instanceof Error?M.error(`Napaka pri izvozu projektov: ${v.message}`):M.error("Napaka pri izvozu projektov")}},Bs=async()=>{if(ee)try{await ba(ee),M.success("Projekti uspeno uvoeni"),te(null),ht()}catch(v){console.error("Napaka pri uvozu projektov:",v),M.error("Napaka pri uvozu projektov")}},ir=()=>o.jsxs(N,{children:[o.jsxs(N,{sx:{mb:2},children:[o.jsx(R,{variant:"contained",color:"secondary",onClick:Fs,sx:{mr:2},disabled:j.length===0,children:"Izvozi projekte"}),o.jsx(Ga,{onFileSelect:te}),ee&&o.jsxs(o.Fragment,{children:[o.jsxs($,{variant:"body2",sx:{mt:1,mb:1},children:["Izbrana datoteka: ",ee.name]}),o.jsx(R,{variant:"contained",color:"primary",onClick:Bs,children:"Uvozi projekte"})]})]}),o.jsx(fr,{component:ve,children:o.jsxs(pr,{children:[o.jsx(hr,{children:o.jsxs(He,{children:[o.jsx(B,{padding:"checkbox",children:o.jsx(xr,{indeterminate:j.length>0&&j.length<W.length,checked:W.length>0&&j.length===W.length,onChange:v=>{v.target.checked?q(W.map(m=>m.id.toString())):q([])}})}),o.jsx(B,{children:"ID"}),o.jsx(B,{children:"Osebna tevilka"}),o.jsx(B,{children:"Datum"}),o.jsx(B,{children:"Akcije"})]})}),o.jsx(mr,{children:W.map(v=>o.jsxs(He,{children:[o.jsx(B,{padding:"checkbox",children:o.jsx(xr,{checked:j.includes(v.id.toString()),onChange:m=>{m.target.checked?q([...j,v.id.toString()]):q(j.filter(H=>H!==v.id.toString()))}})}),o.jsx(B,{children:v.id}),o.jsx(B,{children:v.osebna_stevilka}),o.jsx(B,{children:v.datum}),o.jsx(B,{children:o.jsx(ce,{color:"error",onClick:()=>Ls([v.id.toString()]),children:o.jsx(Ve,{})})})]},v.id))})]})})]});return o.jsxs(Se,{maxWidth:"lg",sx:{py:2},children:[o.jsx(N,{sx:{width:"100%",mb:3,".MuiTabs-root":{maxWidth:"100%",overflow:"auto","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{background:ke.palette.background.paper},"&::-webkit-scrollbar-thumb":{background:ke.palette.primary.main,borderRadius:"3px"}}},children:o.jsx(eo,{value:s,onChange:Cs,variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{borderBottom:1,borderColor:"divider",mb:2},children:Es().map(v=>o.jsx(to,{label:v.label,sx:{minWidth:X?"auto":120,px:X?1:2}},v.index))})}),o.jsx(N,{sx:{overflowX:"auto","& .MuiTableContainer-root":{overflow:"auto"},"& .MuiTable-root":{minWidth:X?300:650},"& .MuiListItem-root":{flexDirection:X?"column":"row",alignItems:X?"flex-start":"center","& .MuiListItemSecondaryAction-root":{position:X?"relative":"absolute",transform:"none",top:X?"auto":"50%",right:X?0:16,marginTop:X?1:0,display:"flex",flexWrap:"wrap",gap:1,width:X?"100%":"auto",justifyContent:X?"flex-start":"flex-end"}},"& .MuiGrid-container":{"& .MuiGrid-item":{width:"100%"}}},children:Rs()}),o.jsxs(wt,{open:Q,onClose:mt,children:[o.jsx(kt,{children:"Uredi tip"}),o.jsx(Tt,{children:o.jsx(D,{autoFocus:!0,margin:"dense",label:"Naziv",fullWidth:!0,value:((lr=a.find(v=>v.id===V))==null?void 0:lr.naziv)||"",onChange:v=>Ae(V?parseInt(v.target.value):null)})}),o.jsxs(St,{children:[o.jsx(R,{onClick:mt,children:"Preklii"}),o.jsx(R,{onClick:Ps,color:"primary",children:"Shrani"})]})]}),o.jsxs(wt,{open:_e,onClose:ar,children:[o.jsx(kt,{children:"Urejanje pravic uporabnika"}),o.jsx(Tt,{children:K&&o.jsxs(N,{sx:{mt:2},children:[o.jsxs($,{variant:"h6",gutterBottom:!0,children:[K.first_name," ",K.last_name]}),o.jsxs($,{color:"textSecondary",gutterBottom:!0,children:["Osebna tevilka: ",K.osebna_stevilka]}),o.jsx(dr,{control:o.jsx(ur,{checked:K.is_staff,onChange:v=>ie({...K,is_staff:v.target.checked})}),label:"Moderator"}),o.jsx(dr,{control:o.jsx(ur,{checked:K.is_superuser,onChange:v=>ie({...K,is_superuser:v.target.checked})}),label:"Administrator"})]})}),o.jsxs(St,{children:[o.jsx(R,{onClick:ar,children:"Preklii"}),o.jsx(R,{onClick:Us,color:"primary",children:"Shrani"})]})]}),o.jsx(ro,{open:!!O||!!I||he.open,autoHideDuration:6e3,onClose:()=>{P(null),U(null),we({...he,open:!1})},children:o.jsx(Ce,{onClose:()=>{P(null),U(null),we({...he,open:!1})},severity:O?"error":I?"success":he.severity,children:O||I||he.message})})]})},Ni=()=>{const[e,t]=h.useState(""),[r,s]=h.useState(""),[n,a]=h.useState(""),{login:i}=Ne();je();const l=async f=>{f.preventDefault(),a("");try{await i(e,r)||a("Neveljavna osebna tevilka ali geslo")}catch{a("Prilo je do napake pri prijavi")}};return o.jsx(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"#f5f5f5"},children:o.jsxs(ve,{elevation:3,sx:{p:4,width:"100%",maxWidth:400},children:[o.jsx($,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Prijava"}),n&&o.jsx(Ce,{severity:"error",sx:{mb:2},children:n}),o.jsx("form",{onSubmit:l,children:o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Osebna tevilka",value:e,onChange:f=>t(f.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Geslo",type:"password",value:r,onChange:f=>s(f.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,variant:"contained",type:"submit",size:"large",children:"Prijava"})}),o.jsx(_,{item:!0,xs:12,children:o.jsxs($,{align:"center",children:["e nimate rauna?"," ",o.jsx(Lr,{to:"/register",children:o.jsx(R,{variant:"text",children:"Registracija"})})]})})]})})]})})},Ai=()=>{const[e,t]=h.useState(""),[r,s]=h.useState(""),[n,a]=h.useState(""),[i,l]=h.useState(""),[f,d]=h.useState(""),[u,p]=h.useState(""),{register:b}=Ne(),T=je(),y=async x=>{x.preventDefault(),p("");try{await b({osebna_stevilka:e,password:r,email:n,first_name:i,last_name:f})&&T("/login")}catch{p("Prilo je do napake pri registraciji")}};return o.jsx(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"#f5f5f5"},children:o.jsxs(ve,{elevation:3,sx:{p:4,width:"100%",maxWidth:400},children:[o.jsx($,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Registracija"}),u&&o.jsx(Ce,{severity:"error",sx:{mb:2},children:u}),o.jsx("form",{onSubmit:y,children:o.jsxs(_,{container:!0,spacing:2,children:[o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Osebna tevilka",value:e,onChange:x=>t(x.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Geslo",type:"password",value:r,onChange:x=>s(x.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"E-pota",type:"email",value:n,onChange:x=>a(x.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Ime",value:i,onChange:x=>l(x.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Priimek",value:f,onChange:x=>d(x.target.value),required:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,variant:"contained",type:"submit",size:"large",children:"Registracija"})}),o.jsx(_,{item:!0,xs:12,children:o.jsxs($,{align:"center",children:["e imate raun?"," ",o.jsx(Lr,{to:"/login",children:o.jsx(R,{variant:"text",children:"Prijava"})})]})})]})})]})})};var Qt={},zi=Ee;Object.defineProperty(Qt,"__esModule",{value:!0});var Ss=Qt.default=void 0,Di=zi(Re()),Ii=o;Ss=Qt.default=(0,Di.default)((0,Ii.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");const $i=()=>{const e=je(),{user:t}=Ne(),[r,s]=h.useState([]),[n,a]=h.useState([]),[i,l]=h.useState({osebna_stevilka:(t==null?void 0:t.osebna_stevilka)||"",stevilka_projekta:"",stevilka_ponovitve:"",tip:""}),[f,d]=h.useState(""),[u,p]=h.useState(!1),[b,T]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const[S,O]=await Promise.all([ds(),tt()]);s(S),a(O)}catch{d("Napaka pri nalaganju podatkov")}})()},[]);const y=k=>{const{name:S,value:O}=k.target;l(P=>({...P,[S]:O}))},x=async k=>{var S,O,P;if(k.preventDefault(),!i.stevilka_projekta||!i.stevilka_ponovitve||!i.tip){d("Vsa polja so obvezna");return}p(!0),d("");try{const I=n.find(V=>V.id===i.stevilka_projekta);if(I){const V=(S=I.projekt_tipi)==null?void 0:S[0];if(V){e(`/checklist/${V.tip}/${I.id}/${V.stevilo_ponovitev}`);return}}const U=await fs({id:i.stevilka_projekta,osebna_stevilka:i.osebna_stevilka,datum:new Date().toISOString().split("T")[0],projekt_tipi:[{tip:Number(i.tip),stevilo_ponovitev:Number(i.stevilka_ponovitve)}]}),Q=await tt();a(Q);const Y=(O=U.projekt_tipi)==null?void 0:O[0];Y&&e(`/checklist/${Y.tip}/${U.id}/${Y.stevilo_ponovitev}`)}catch(I){console.error("Napaka pri ustvarjanju projekta:",I),((P=I.response)==null?void 0:P.status)===400?(d("Projekt s to tevilko e obstaja. Lahko ga odprete iz seznama obstojeih projektov."),T(!0)):d("Napaka pri ustvarjanju projekta. Prosim, poskusite ponovno.")}finally{p(!1)}},g=k=>{var O;const S=(O=k.projekt_tipi)==null?void 0:O[0];S&&e(`/checklist/${S.tip}/${k.id}/${S.stevilo_ponovitev}`)};return o.jsxs(N,{sx:{maxWidth:600,mx:"auto",mt:4},children:[o.jsxs(ve,{elevation:3,sx:{p:4},children:[o.jsx($,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Nov kontrolni seznam"}),f&&o.jsx(Ce,{severity:"error",sx:{mb:2},children:f}),o.jsx("form",{onSubmit:x,children:o.jsxs(_,{container:!0,spacing:3,children:[o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,label:"Osebna tevilka",name:"osebna_stevilka",value:i.osebna_stevilka,onChange:y,disabled:!0})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,required:!0,label:"t. projekta",name:"stevilka_projekta",value:i.stevilka_projekta,onChange:y})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,required:!0,label:"t. ponovitve",name:"stevilka_ponovitve",type:"number",value:i.stevilka_ponovitve,onChange:y,inputProps:{min:1}})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(D,{fullWidth:!0,required:!0,select:!0,label:"Tip",name:"tip",value:i.tip,onChange:y,children:r.map(k=>o.jsx(re,{value:k.id,children:k.naziv},k.id))})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",size:"large",disabled:u,children:u?"Ustvarjam...":"Zani nov kontrolni seznam"})}),o.jsx(_,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,variant:"outlined",onClick:()=>T(!0),children:"Odpri obstoje projekt"})})]})})]}),o.jsxs(wt,{open:b,onClose:()=>T(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(kt,{children:"Obstojei projekti"}),o.jsx(Tt,{children:u?o.jsx(N,{sx:{display:"flex",justifyContent:"center",p:3},children:o.jsx(Ft,{})}):o.jsx(Ge,{children:n.map(k=>{var S;return o.jsxs(Ze,{children:[o.jsx(Qe,{primary:`Projekt: ${k.id}`,secondary:`Datum: ${new Date(k.datum).toLocaleDateString("sl-SI")} - Tip: ${((S=r.find(O=>{var P,I;return O.id===((I=(P=k.projekt_tipi)==null?void 0:P[0])==null?void 0:I.tip)}))==null?void 0:S.naziv)||"Neznan"}`}),o.jsx(Ur,{children:o.jsx(ce,{edge:"end",onClick:()=>g(k),color:"primary",children:o.jsx(Ss,{})})})]},k.id)})})}),o.jsx(St,{children:o.jsx(R,{onClick:()=>T(!1),children:"Zapri"})})]})]})},Ui=h.createContext(void 0),Li=({children:e})=>{const[t,r]=h.useState([]),s=async(a,i)=>{r(l=>l.map(f=>f.id===a?{...f,...i}:f))},n=async a=>{r(i=>i.filter(l=>l.id!==a))};return o.jsx(Ui.Provider,{value:{checklists:t,updateChecklist:s,deleteChecklist:n},children:e})},Fi=({children:e})=>{const{isAuthenticated:t}=Ne();return t?o.jsx(o.Fragment,{children:e}):o.jsx(fo,{to:"/login"})},Bi=()=>o.jsxs(oo,{theme:mo,children:[o.jsx(no,{}),o.jsx(Li,{children:o.jsxs(uo,{children:[o.jsx(Te,{path:"/login",element:o.jsx(Ni,{})}),o.jsx(Te,{path:"/register",element:o.jsx(Ai,{})}),o.jsxs(Te,{path:"/",element:o.jsx(Fi,{children:o.jsx(wa,{})}),children:[o.jsx(Te,{index:!0,element:o.jsx($i,{})}),o.jsx(Te,{path:"checklist/:tipId/:projektId/:ponovitevId",element:o.jsx(Va,{})}),o.jsx(Te,{path:"settings",element:o.jsx(Pi,{})})]})]})})]});console.log("Starting application...");const Yt=document.getElementById("root");console.log("Root element:",Yt);if(!Yt){console.error("Root element ni najden!");const e=document.createElement("div");e.id="root",document.body.appendChild(e)}const Mi=Ct.createRoot(Yt||document.getElementById("root"));Mi.render(o.jsx(po.StrictMode,{children:o.jsx(ho,{children:o.jsx(ja,{children:o.jsx(Bi,{})})})}));console.log("Application rendered");
